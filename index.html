<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MC Maranatha - Keuken</title>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
body {
    font-family: Arial, sans-serif;
    background: #111;
    color: white;
    padding: 30px;
}

h1 {
    color: rgb(255,215,0);
}

.order {
    background: #222;
    padding: 20px;
    margin: 10px 0;
    border-radius: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.order-info {
    max-width: 70%;
}

button {
    background: #da291c;
    color: rgb(255,215,0);
    border: none;
    padding: 8px 15px;
    border-radius: 15px;
    cursor: pointer;
}
button:hover {
    background: #b2221a;
}
</style>
</head>
<body>

<h1>üçî Keuken Monitor</h1>

<div id="orders"></div>

<script>
const firebaseConfig = { 
  apiKey : "AIzaSyA--6-0cX6qPdUwV0NllkgtAhpm2_SDdJ4" , 
  authDomain : "mcmaranatha-9b500.firebaseapp.com" , 
  databaseURL : "https://mcmaranatha-9b500-default-rtdb.europe-west1.firebasedatabase.app" , 
  projectId : "mcmaranatha-9b500" , 
  storageBucket : "mcmaranatha-9b500.firebasestorage.app" , 
  messagingSenderId : "305909078179" , 
  appId : "1:305909078179:web:165a92a8abb81ccb0a4716" 
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const ordersDiv = document.getElementById("orders");

// Geluid voor nieuwe bestelling
const audio = new Audio('ding.mp3'); // Zorg dat dit bestand in dezelfde map staat

db.ref("orders").on("child_added", (snapshot) => {
    const data = snapshot.val();
    const key = snapshot.key;

    // Speel het belletje af
    audio.play();

    const div = document.createElement("div");
    div.className = "order";
    div.id = key;

    div.innerHTML = `
        <div class="order-info">
            <strong>${data.item}</strong> <br>
            <em>Naam: ${data.naam}</em><br>
            ${new Date(data.tijd).toLocaleTimeString()}
        </div>
        <button onclick="completeOrder('${key}')">Klaar</button>
    `;

    ordersDiv.appendChild(div);
});

function completeOrder(orderKey) {
    db.ref("orders/" + orderKey).remove();
    document.getElementById(orderKey).remove();
}
</script>

</body>
</html>
